\chapter{Case-tapaus: Sovelia PLM:n raportointityökalu} \label{Case-tapaus: Sovelia PLM:n raportointityökalu}

\section{Sovelia PLM} \label{PLM-järjestelmät}

Kehitettävän raportointityökalun toimintaympäristönä toimii kaupallinen PLM-järjestelmä, Sovelia PLM. Sovelia PLM:n kehitys on alkanut yli 30 vuotta sitten ja sen kehitys jatkuu aktiivisesti edelleen. Kuten muutkin PLM-järjestelmät, Sovelia PLM pyrkii ratkaisemaan valmistusalan yritysten haasteita liittyen tuotteen datan hallintaan sen koko elinkaaren ajan. \cite{soveliaAboutSovelia} Sovelia PLM:n erityispiirteenä on sisältämät valmiiksi konfiguroidut \textit{"templatet"} eli valmiit mallit objekteille ja prosesseille, jotka ovat muokattavissa asiakkaan tarpeiden mukaan. Lisäksi malleihin kuuluu muita valmiiksi konfiguroituja työkaluja että alalla hyväksi todettuja prosesseja. \cite{soveliaSoveliaGetting}

Sovelia PLM koostuu objekteista ja objektilinkeistä. Objekteja voidaan määritellä niiden attribuuttien avulla. Objektit voivat olla osia, piirustuksia, dokumenttilinkkejä tai linkkejä muihin toimintoihin. \cite{soveliaSoveliaGetting} Objektilinkkien avulla voidaan muodostaa osaluetteloita, jotka ovat tärkeitä raportoinnin kohteita. Näiden lisäksi toinen merkittävä konsepti Soveliassa on käyttäjä ja käyttäjäryhmät. Yksinkertaisuudessaan järjestelmällä voi olla luonnollisesti useita käyttäjiä ja käyttäjät voivat kutsua eri käyttäjäryhmiin. Käyttäjäryhmiä voi olla useita, mutta tärkein niistä on ymmärtää \textit{"admin"}-ryhmä (engl. \textit{administrator}), johon kuuluu pääkäyttäjät eli järjestelmänvalvojat. Järjestelmänvalvojalla on luonnollisesti oikeuden muuttaa järjestelmän asetuksia. Pääkäyttäjän konsepti on tärkeä ymmärtää, sillä osa kehitettävän raportointityökalun ominaisuuksista on saatavilla vain pääkäyttäjälle. Käyttäjäryhmien lisäksi jokaisella käyttäjällä on lisenssi, joka määrittelee osaltaan käyttäjän oikeuksia rajoittamalla esimerkiksi objektien ja objektilinkkien muokkausoikeuksia. \cite{soveliaUserManagement}

\subsubsection{Raportointi Sovelia PLM-järjestelmässä}

Sovelia PLM ja muut PLM-järjestelmät poikkeavat valmiiden raportointityökaluratkaisujen tyypillisistä toimintaympäristöistä, sillä kuten luvussa \ref{PLM-järjestelmä toimintaympäristönä} huomattiin, PLM-data on usein kompleksista ja monimuotoista. Siemensin PLM-järjestelmän verkkosivuilla julkaistussa artikkelissa \textit{"The Challenge of Getting High Quality Reports out of PLM"} \cite{german_challenge_2016} (2016) esitellään haasteita, joita liittyy korkealaatuisten raporttien tuottamiseen PLM-järjestelmistä. Artikkeli nostaa esille osaluetteloiden (BOM) merkityksen PLM-järjestelmän raportoinnissa: on tärkeää että raporttien saama ja tuottama data on luotettavaa ja laadukasta, jotta päätöksenteko raporttien pohjalta olisi mahdollista. Osaluetteloihin voi tulla jopa satoja muutoksia päivittäin, joten raporttien tapauksessa on tärkeää, että niiden käyttäjät tietävät työskentelevänsä oikean datan kanssa. Täten raporttien ajantasaisuus ja selkeät aikaleimat ovat hyvin tärkeitä PLM-järjestelmän ja myös Sovelian tuottamille raporteille. Sovelia PLM:n raportointimoottorin etuna on hakurajapinnan käyttö, joka palauttaa aina hakupyynnön mukaisesti ajankohtaista dataa, mikä vähentää mahdollisten virheellisten tietojen määrää.

PLM-datan kompleksisuus tekee raportointityökalun kehittämisestä haasteellista, sillä myös Sovelia PLM vaatii erityisesti tarkoitusta varten kehitetyn raportointityökaluratkaisun. Tarkoitusta varten kehitetty ratkaisu on ohjelmistokehittäjälle työläs rakentaa alusta asti itse, mutta sen etuna on sen täysi muovautuvuus tarvetta varten. On kuitenkin todettava, että myös valmiin raportointimoottorin ja -työkalun implementoiminen Sovelia PLM:n toimintaympäristöön olisi todennäköistä työlästä juuri PLM-datan kompleksisuuden vuoksi.

\subsubsection{Sovelia PLM:n vanha raportointityökalu}

Sovelia PLM -järjestelmässä on tuotannossa ja asiakkailla käytössä vanha raportointiyökalu, joka tarjoaa raportteja PDF, Excel ja ZIP-tiedostoformaateissa. Näistä poikkeavimpia ovat ZIP-raportit eli ZIP-arkistot, \nomenclature[ZIP]{ZIP}{Tiedon pakkaukseen käytetty tiedostomuoto, joka voi sisältää useita tiedostoja ja kansioita pakattuna} jotka sisältävät useita PDF- tai Excel-raportteja pakattuna yhteen tiedostoon. Täten ZIP-raporttiin voidaan sisällyttää esimerkiksi raportti tuoterakenteen jokaiselle yksittäiselle objektille, jolloin ZIP-paketin kansiorakenne vastaa itsessään tuotteen rakennetta. Raporttidokumenttehin data kerätään \textit{"rakenneagentin"} avulla, joka on nimensä mukaisesti osaa kulkea objekti-linkki -suhteita pitkin ja täten kerätä tarvittavan lähdedatan raportin koostamista varten. Itse raporttidokumentteihin kirjoittaminen tapahtuu Java-ohjelmointikielen Apache FOP-ohjelmakirjaston \cite{noauthor_apachetm_nodate} avulla XSL-\nomenclature[XSL]{XSL}{XML-kieliperhe, joka mahdollistaa XML-pohjaisten tiedostojen ulkoasun ja rakennemuutoksen määrittelyn} (engl. \textit{Extensible Stylesheet Language}, kieliperhe, joka mahdollistaa XML-pohjaisten tiedostojen ulkoasun ja rakennemuutoksen määrittelyn) ja XML-tietorakenteisiin tallennetun datan antaman ohjeistuksen avulla.

Vaikka tämä ratkaisu on toimiva ja edelleen kelvollinen tekniikka dokumenttien muotoiluun, ja siten raporttien generointiin ohjelmallisesti ennalta määritellyn datan mukaisesti, se kohtaa ongelmia datamäärien kasvaessa. Näihin ongelmiin kuuluu esimerkiksi liiallinen muistinkäyttö palvelimilla, prosessin hitaus varsinkin suurempien tuoterakenteiden tapauksissa ja raporttien konfiguroinnin haasteellisuus sen ollessa täysin mahdotonta PLM-järjestelmän loppukäyttäjille. Lisäksi toiminnon ylläpito alati muuttuvassa toimintaympäristössä muuttuu todennäköisesti haasteellisemmaksi tulevaisuudessa, kun uusi teknologia syrjäyttää vanhaa yhä useammilla osa-alueilla, kun vanhalle pohjalle rakennettu raportointimoottori ei voi enää pysyä muutoksen tahdissa.

\subsubsection{Uuden raportointityökalun haasteet}

Koska vanhan raportointityökalun modernisointi ja päivittäminen nykypäivään vaatisi perustavanlaatuisia muutoksia koko järjestelmään, päädyttiin valitsemaan kehityskohteeksi kokonaan uuden raportointityökalun kehittämisen. Uuden työkalun tarkoituksena on integroitua paremmin nykyiseen Web-pohjaiseen käyttöliittymään ja tarjota käyttäjäystävällisemmän kokemuksen raporttien luomiseen. Raporttien luominen tuoterakenteista tapahtuisi käyttäjän näkökulmasta paremmin integroituna Web-käyttöliittymään tarjoten mahdollisuuden seurata meneillään olevien raporttien edistymistä sekä perua raporttien koostamisprosesseja käyttöliittymästä käsin. Lisäksi pääkäyttäjällä tulisi olla mahdollisuus muokata ja luoda uusia raporttityyppejä muokkaamalla esimerkiksi raporteissa esitettäviä sarakkeita ja tuoterakenteiden suodattamiseen liittyviä sääntöjä. Myös raporttien ulkonäön tulee olla muokattavissa pääkäyttäjän toimesta, mikä tarkoittaa niiden visuaalisen ilmeen muokkausta lisäämällä asiakasyrityksen logoja, muokkaamalla väriteemaa ja asettelua asiakkaan tarpeiden mukaisesti.

Uuden raportointityökalun tulee ensimmäisessä vaiheessa sisältää samat toiminnallisuudet kuin vanha raportointityökalu, mutta tarkoituksena on tuottaa raportteja huomattavasti nopeammin aiheuttamalla samanaikaisesti vähemmän kuormaa palvelimelle. Raporttien sisällön ja yleisen rakenteen tulee vastata vanhempia raportteja identtisesti, mutta raporttien visuaalinen ilme tulee päivittää nykypäivän standardien mukaiseksi.

Ensimmäinen haaste raportointityökalun kehittämiselle on käytettävien tekniikoiden ja teknologioiden valinta. Koska tarkoituksena on kehittää täysin uusi toiminnallisuus alusta alkaen, on tärkeää ymmärtää nykyiset käytössä olevat komponentit varsinkin palvelinarkkitehtuurien näkökulmasta. Itse raportointimoottori tulee toimimaan jollakin palvelimella ja koostamaan valmiit raportit palvelinpäässä ennen niiden lataamista käyttäjien saataville. Näin voimme vähentää asiakaspään kuormaa siirtämällä raskaamman laskennan palvelimen vastuulle. Lisäksi vaaditaan syvällisiä teknologiatutkimusta ja -analyysiä olemassa olevien raportointimoottorien ratkaisuista sekä käytettävistä teknologioista. 

\section{Nykyiset raportointimoottorit}

\textit{Alustus ja esittely nykyisiin raportointityökaluihin, niiden ominaisuuksiin ja käytettyihin tekniikoihin. Mitä voimme oppia näistä ratkaisuista, mitä tekniikoita nämä käyttävät ja millaisia lopputulemia ne tarjoavat?}
